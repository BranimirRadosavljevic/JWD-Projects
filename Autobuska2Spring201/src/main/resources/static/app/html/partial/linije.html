<div ng-controller="linijeCtrl">
	<br>
	<h3>Dodavanje linija</h3>
	<br>
	<form class="container">
		<div class="form-group">
			<label for="brojMesta">Broj mesta</label>
			<input class="form-control" id="brojMesta" ng-model="novaLinija.brojMesta"/>
		</div>
		<div class="form-group">
			<label for="cenaKarte">Cena karte</label>
			<input class="form-control" id="cenaKarte" ng-model="novaLinija.cenaKarte"/>
		</div>
		<div class="form-group">
			<label for="destinacija">Destinacija</label>
			<input class="form-control" id="destinacija" ng-model="novaLinija.destinacija"/>
		</div>
		<div class="form-group">
			<label for="vremePolaska">Vreme polaska</label>
			<input class="form-control" id="vremePolaska" ng-model="novaLinija.vremePolaska"/>
		</div>
		<div>
			<label for="prevoznikId">Prevoznik</label>
				<select ng-model="novaLinija.prevoznikId" class="form-control" >
					<option ng-repeat="p in prevoznici" ng-value="p.id">{{p.naziv}}</option>
				</select>
		</div>
		<button ng-click="dodajPrevoznika()" class="form-group">Dodaj prevoznika</button><br>
		
		<button ng-click="add()" class="btn btn-primary">Dodaj</button>
	</form>

	<br>
	<h3>Pretraga linija</h3>
	<br>

	<form class="container">
		<div class="form-group">
			<label for="destinacija">Destinacija</label>
			<input class="form-control" ng-model="trazenaLinija.destinacija">
		</div>
		<div class="form-group">
			<label for="prevoznikId">Prevoznik</label>
				<select class="form-control" ng-model="trazenaLinija.prevoznikId">
					<option ng-repeat="p in prevoznici" ng-value="p.id">{{p.naziv}}</option>
				</select>
		</div>
		<div class="form-group">
			<label for="maxCena">Maksimalna cena</label>
			<input class="form-control" ng-model="trazenaLinija.maxCena">
		</div>
		<button ng-click="trazi()" class="btn btn-primary">Traži</button>
	</form>

	<br><br><br>

	<div class="btn-group pull-right">
		<button class="btn btn-primary" ng-click="go(-1)" ng-disabled="pageNum == 0">Prethodna</button>
		<button class="btn btn-primary" ng-click="go(1)" ng-disabled="pageNum == totalPages - 1">Sledeća</button>
	</div>

	<table class="table table-striped table-bordered" >
		<thead>
			<tr>
				<th>Naziv prevoznika</th>
				<th>Destinacija</th>
				<th>Broj mesta</th>
				<th>Vreme polaska</th>
				<th>Cena karte</th>
			</tr></thead>
		<tbody>
			<tr ng-repeat="l in linije">
				<td>{{l.prevoznikNaziv}}</td>
				<td>{{l.destinacija}}</td>
				<td>{{l.brojMesta}}</td>
				<td>{{l.vremePolaska}}</td>
				<td>{{l.cenaKarte}}</td>
				<td><input ng-model="brojKarata"  ng-disabled="l.brojMesta <= 0"><span> <button ng-click="kupi(l.id, brojKarata)" ng-disabled="l.brojMesta <= 0" class="btn btn-primary"> Kupi</button></span></td>
				<td><button ng-click="izmeni(l.id)" class="btn btn-warning">Izmeni</button>
				<button ng-click="obrisi(l.id)" class="btn btn-danger">Obriši</button></td>
			</tr></tbody>
	</table>
	<hr>
</div>